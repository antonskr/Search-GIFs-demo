(this["webpackJsonpmy-pet-project"]=this["webpackJsonpmy-pet-project"]||[]).push([[0],{110:function(e,t,a){e.exports={Preloader:"preloader_Preloader__3yMGR"}},111:function(e,t,a){e.exports={subShareItem:"SubShare_subShareItem__3fvDW"}},147:function(e,t,a){},148:function(e,t,a){},22:function(e,t,a){e.exports={GifsDetailsBlock:"gifsDetails_GifsDetailsBlock__29oU4",wrapper:"gifsDetails_wrapper__1reOp",imageBlock:"gifsDetails_imageBlock__5TFhR",hideDetailsBtn:"gifsDetails_hideDetailsBtn__zbcf9",description:"gifsDetails_description__3QaqU",subShareDetails:"gifsDetails_subShareDetails__3FhU0"}},270:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(47),c=a.n(i),s=(a(147),a(148),a(15)),o=a(108),l=a(109),u=a(117),d=a(116),p=a(9),j=a.n(p),h=a(33),f=a.n(h),b=a.p+"static/media/Preloader.98b61a8c.svg",m=a(110),g=a.n(m),O=a(1),x=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:g.a.Preloader,src:b,alt:"Preloader"})})},_=a(272),v=a(273),C=a(111),D=a.n(C),y=function(e){var t=e.url;return Object(O.jsx)("div",{className:D.a.subShareItem,children:Object(O.jsx)(_.a,{url:t,children:Object(O.jsx)(v.a,{size:"2rem"})})})},G=a(22),S=a.n(G),w=function(e){var t=e.showDetails,a=e.setUpdateDetails,r=t.data;return Object(O.jsx)("div",{className:S.a.GifsDetailsBlock,style:{display:t.display},children:0===r.length?null:Object(O.jsx)("div",{className:S.a.imageBlock,children:Object(O.jsxs)("div",{className:S.a.wrapper,children:[Object(O.jsx)("img",{src:r.images.original.url,alt:"/"}),Object(O.jsx)("button",{className:S.a.hideDetailsBtn,type:"button",onClick:function(){a({display:"none",data:r})},children:"\u2716"}),Object(O.jsxs)("div",{className:S.a.description,children:[Object(O.jsx)("div",{className:S.a.subShareDetails,children:Object(O.jsx)(y,{url:r.url})}),Object(O.jsxs)("p",{children:[" ",r.username?r.username:null," "]}),Object(O.jsxs)("p",{children:[" ",r.title?r.title:null," "]}),Object(O.jsx)("p",{children:r.trending_datetime?" trending datetime ".concat(r.trending_datetime):null})]})]})})})},k=function(e){var t=e.data,a=e.preload,r=e.showDetails,n=e.setUpdateDetails;return Object(O.jsxs)("div",{className:j.a.GifWrapper,children:[a&&!t.length?Object(O.jsx)("div",{className:j.a.preloaderBlock,children:Object(O.jsx)(x,{})}):t.map((function(e){return Object(O.jsxs)("span",{className:j.a.imageBlock,children:[Object(O.jsx)("img",{onClick:function(){n({display:"block",data:e,location:"trendingGifs"})},className:j.a.images,src:e.images.downsized.url,alt:""}),Object(O.jsxs)("div",{className:j.a.descriptionBlock,children:[Object(O.jsx)(y,{url:e.images.original.url}),Object(O.jsx)("p",{className:j.a.username,children:e.username?"Created by ".concat(e.username):"Created by unknown"}),Object(O.jsxs)("p",{className:j.a.descripton,children:[" ",e.title," "]})]})]},e.id)})),"trendingGifs"===r.location?Object(O.jsx)(w,{showDetails:r,setUpdateDetails:n}):null]})},N=function(e){var t=e.dataSearch,a=e.preload,r=e.deleteCurrentGif,n=e.totalCount,i=e.setUpdateDetails,c=e.showDetails;return Object(O.jsxs)("div",{children:[a?Object(O.jsx)("div",{className:j.a.preloaderBlock,children:Object(O.jsx)(x,{})}):t.slice(0,n).reverse().map((function(e){return Object(O.jsxs)("span",{className:j.a.imageBlock,children:[Object(O.jsx)("img",{className:j.a.images,src:e.images.original.url,alt:"",onClick:function(){i({display:"block",data:e,location:"searchGifs"})}}),Object(O.jsxs)("div",{className:j.a.descriptionBlock,children:[Object(O.jsx)("button",{type:"button",onClick:function(){return r(e.id)},children:"\u2716"}),Object(O.jsx)(y,{url:e.images.original.url}),Object(O.jsx)("p",{className:j.a.username,children:e.username?"Created by ".concat(e.username):"Created by unknown"}),Object(O.jsxs)("p",{className:j.a.descripton,children:[" ",e.title," "]})]})]},e.id)})),"searchGifs"===c.location?Object(O.jsx)(w,{showDetails:c,setUpdateDetails:i}):null]})},P=a(69),T=a.n(P),B=function(e){var t=e.setCategoriesSearchGif,a=e.category;return Object(O.jsx)("div",{className:T.a.categoriesWrapper,children:Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"button",className:T.a.GifCategoriesBtn,onClick:function(e){t(e.currentTarget.innerText)},children:a})})})},A=function(e){var t=e.setCategoriesSearchGif;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(B,{setCategoriesSearchGif:t,category:"\u0421\u043c\u0435\u0448\u043d\u044b\u0435"}),Object(O.jsx)(B,{setCategoriesSearchGif:t,category:"\u041c\u0435\u043c\u044b"}),Object(O.jsx)(B,{setCategoriesSearchGif:t,category:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435"})]})},E=a(104),F=a(48),U=a(105),I=a(36),W=function(e){if(!e.textField)throw new I.a({textField:"Can't be empty"})},R=a(8),Q=a(73),J=a(70),L=a.n(J),M=function(e){e.input;var t=e.meta,a=(e.child,e.element,Object(Q.a)(e,["input","meta","child","element"])),r=t.touched&&t.error;return Object(O.jsxs)("div",{className:"".concat(L.a.formControl," ").concat(r?L.a.error:""),children:[Object(O.jsx)("div",{children:a.children}),r&&Object(O.jsxs)("span",{children:[" ",t.error," "]})]})},q=function(e){var t=e.input,a=(e.meta,e.child,e.element,Object(Q.a)(e,["input","meta","child","element"]));return Object(O.jsx)(M,Object(R.a)(Object(R.a)({},e),{},{children:Object(O.jsx)("input",Object(R.a)(Object(R.a)({},t),a))}))},V=a.p+"static/media/searchIcon.ca956951.svg",Z=Object(U.a)({form:"searchGif",onSubmitSuccess:function(e,t){return t(Object(F.a)("searchGif"))}})((function(e){var t=e.dirty,a=e.handleSubmit,r=Object(s.c)((function(e){return e.mainPage.error}));return Object(O.jsxs)("form",{onSubmit:t?a:a(W),children:[Object(O.jsx)("button",{style:{backgroundImage:"url(".concat(V,")")},children:" "}),Object(O.jsx)(E.a,{name:"textField",type:"input",component:q,label:"TextField",placeholder:r||null})]})})),z=function(e){var t=e.updateTotalCount;return Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:f.a.showMoreBtn,type:"button",onClick:t,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"})})},Y=function(e){var t=e.data,a=e.dataSearch,r=e.preload,n=e.searchGif,i=e.setCategoriesSearchGif,c=e.deleteCurrentGif,s=e.totalCount,o=e.updateTotalCount,l=e.isActive,u=e.showDetails,d=e.setUpdateDetails;return Object(O.jsxs)("div",{className:j.a.wrapper,children:[Object(O.jsx)(A,{setCategoriesSearchGif:i}),Object(O.jsx)("div",{className:f.a.searchFormWrapper,children:Object(O.jsx)(Z,{onSubmit:function(e){!function(e){n(e)}(e.textField)},updateTotalCount:o,isActive:l})}),l?null:Object(O.jsx)(z,{updateTotalCount:o}),Object(O.jsx)(N,{preload:r,dataSearch:a,deleteCurrentGif:c,totalCount:s,showDetails:u,setUpdateDetails:d}),Object(O.jsx)(k,{preload:r,data:t,showDetails:u,setUpdateDetails:d})]})},X=a(23),H=a.n(X),K=a(52),$=a(114).create({baseURL:"https://api.giphy.com/v1/gifs/trending?api_key=".concat("YQiZ73lqJTxPV7D3Px4fIIPexS661EQy","&limit=8&rating=r")}),ee={getGiphyData:function(){return $.get("").then((function(e){return e.data}))},getSearchGiphyData:function(e){return $.get("https://api.giphy.com/v1/gifs/search?api_key=".concat("YQiZ73lqJTxPV7D3Px4fIIPexS661EQy","&q=").concat(e,"&limit=50&offset=0&rating=r&lang=ru")).then((function(e){return e.data}))},getCategoriesSearchGif:function(e){return $.get("https://api.giphy.com/v1/gifs/search?api_key=".concat("YQiZ73lqJTxPV7D3Px4fIIPexS661EQy","&q=").concat(e,"&limit=4&offset=0&rating=r&lang=ru")).then((function(e){return e.data}))}},te="SET_GIF",ae="SET_SEARCH_GIF",re="ON_PRELOADER",ne="DELETE_CURRENT_GIF",ie="UPDATE_TOTAL_COUNT",ce="UPDATE_DETAILS",se="SET_ERROR_MESSAGE",oe={data:[],dataSearch:[],error:null,preload:!1,totalCount:4,isActive:!0,showDetails:{display:"none",data:[],location:null}},le=function(e){return{type:te,data:e}},ue=function(e){return{type:ae,data:e}},de=function(e){return{type:re,isTrue:e}},pe=function(e){return{type:se,value:e}},je=function(e){return{type:ie,value:e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(R.a)(Object(R.a)({},e),{},{data:t.data});case ae:return Object(R.a)(Object(R.a)({},e),{},{dataSearch:t.data,isActive:!1});case re:return Object(R.a)(Object(R.a)({},e),{},{preload:t.isTrue});case ne:return Object(R.a)(Object(R.a)({},e),{},{dataSearch:e.dataSearch.filter((function(e){return e.id!==t.id}))});case ie:return Object(R.a)(Object(R.a)({},e),{},{totalCount:e.totalCount+4});case ce:return Object(R.a)(Object(R.a)({},e),{},{showDetails:t.details});case se:return Object(R.a)(Object(R.a)({},e),{},{error:t.value});default:return e}},fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).searchGif=function(t){e.props.setSearchGif(t)},e.deleteCurrentGif=function(t){e.props.deleteCurrentGifAc(t)},e.updateTotalCount=function(){e.props.setTotalCountAc()},e.setUpdateDetails=function(t){e.props.updateDetails(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.setGif()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.dataSearch,r=e.preload,n=e.totalCount,i=e.isActive,c=e.showDetails;return Object(O.jsx)(Y,{data:t,dataSearch:a,searchGif:this.searchGif,setCategoriesSearchGif:this.props.setCategoriesSearchGif,preload:r,deleteCurrentGif:this.deleteCurrentGif,totalCount:n,updateTotalCount:this.updateTotalCount,isActive:i,showDetails:c,setUpdateDetails:this.setUpdateDetails})}}]),a}(n.a.Component),be=fe=Object(s.b)((function(e){return{data:e.mainPage.data,dataSearch:e.mainPage.dataSearch,currentText:e.mainPage.currentText,preload:e.mainPage.preload,totalCount:e.mainPage.totalCount,isActive:e.mainPage.isActive,showDetails:e.mainPage.showDetails}}),{setGif:function(e,t){return function(){var a=Object(K.a)(H.a.mark((function a(r){var n;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(de(!0)),a.next=3,ee.getGiphyData(e,t);case 3:n=a.sent,r(le(n.data)),r(de(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setSearchGif:function(e){return function(){var t=Object(K.a)(H.a.mark((function t(a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(de(!0)),t.next=3,ee.getSearchGiphyData(e);case 3:(r=t.sent).data.length?(a(de(!1)),a(ue(r.data)),a(pe(null))):(a(de(!1)),a(pe("Nothing found")));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCategoriesSearchGif:function(e){return function(){var t=Object(K.a)(H.a.mark((function t(a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(de(!0)),t.next=3,ee.getCategoriesSearchGif(e);case 3:r=t.sent,a(le(r.data)),a(de(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteCurrentGifAc:function(e){return{type:ne,id:e}},setTotalCountAc:je,updateDetails:function(e){return function(t){t(function(e){return{type:ce,details:e}}(e))}}})(fe),me=a(7),ge=a(115),Oe=a(106),xe=Object(me.c)({mainPage:he,form:Oe.a}),_e=Object(me.d)(xe,Object(me.a)(ge.a));var ve=function(){return Object(O.jsx)(s.a,{store:_e,children:Object(O.jsx)(be,{})})};c.a.render(Object(O.jsx)(ve,{}),document.getElementById("root"))},33:function(e,t,a){e.exports={searchFormWrapper:"SearchForm_searchFormWrapper__2XpJV",showMoreBtn:"SearchForm_showMoreBtn__2xniI"}},69:function(e,t,a){e.exports={categoriesWrapper:"GifCategories_categoriesWrapper__2xWQe",GifCategoriesBtn:"GifCategories_GifCategoriesBtn___zOcW"}},70:function(e,t,a){e.exports={formControl:"FormsControls_formControl__2DFbf",error:"FormsControls_error__2XV4D"}},9:function(e,t,a){e.exports={wrapper:"mainPage_wrapper__1Z0yV",gifWrapper:"mainPage_gifWrapper__2ZBMi",images:"mainPage_images__1LZ8C",descriptionBlock:"mainPage_descriptionBlock__2JpL9",imageBlock:"mainPage_imageBlock__2OfY6"}}},[[270,1,2]]]);
//# sourceMappingURL=main.4274bdac.chunk.js.map